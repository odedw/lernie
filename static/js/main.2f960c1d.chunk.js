(this.webpackJsonplernie=this.webpackJsonplernie||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var r,c=n(4),o=n.n(c),i=n(100),s=n.n(i),u=(n(109),n(28)),l=n(14),d=(n(110),n(15)),m=n(49),f=n(38),p=n.n(f),h=n(67),b=n(26),v=n(33),j=n(101),O=n.n(j),x=n(22);!function(e){e[e.osc=0]="osc",e[e.noise=1]="noise",e[e.voronoi=2]="voronoi",e[e.shape=3]="shape",e[e.screen=4]="screen"}(r||(r={}));var y=Object.keys(r).filter((function(e){return isNaN(Number(e))})),g=["shift","lfo1","lfo2","audio"];function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return g.reduce((function(t,n){return t[n]=e.includes(n),t}),{})}var S,I=function(){function e(t,n){Object(b.a)(this,e),this.parameters=void 0,this.sourceType=void 0,this.lfos=void 0,this.audio=void 0,this.parameters=t,this.sourceType=n,this.lfos=[this.generateZeroParametersRecord(),this.generateZeroParametersRecord()],this.audio=this.generateZeroParametersRecord()}return Object(v.a)(e,[{key:"generateZeroParametersRecord",value:function(){var e=Object(m.a)({},this.parameters);return $.forEach((function(t){return e[t]=0})),e}}]),e}(),w={parameters:{mod1:{min:0,max:80},mod2:{min:-.5,max:.5},mod3:{min:0,max:10},rotation:{min:0,max:6.283185307179586},brightness:{min:-1,max:1},pixelate:{min:10,max:1500},scale:{min:.5,max:7},colorama:{min:-.001,max:1},modulate:{min:-1,max:1},modulateRotate:{min:-10,max:10},modulateScale:{min:-10,max:10},repeatXY:{min:1,max:8},blend:{min:0,max:1},diff:{min:0,max:1},feedback:{min:0,max:1},selfModulate:{min:0,max:1},colorR:{min:0,max:1},colorG:{min:0,max:1},colorB:{min:0,max:1},contrast:{min:0,max:20}},sourceMods:(S={},Object(x.a)(S,r.osc,{mod1:{min:0,max:100},mod2:{min:-1,max:1},mod3:{min:0,max:6.3}}),Object(x.a)(S,r.noise,{mod1:{min:0,max:1},mod2:{min:0,max:.5},mod3:{min:0,max:10}}),Object(x.a)(S,r.voronoi,{mod1:{min:0,max:80},mod2:{min:0,max:10},mod3:{min:0,max:20}}),Object(x.a)(S,r.screen,{mod1:{min:0,max:50},mod2:{min:0,max:1},mod3:{min:0,max:1}}),Object(x.a)(S,r.shape,{mod1:{min:1,max:20},mod2:{min:0,max:1},mod3:{min:-100,max:100}}),S)},$=Object.keys(w.parameters).map((function(e){return e}));var C,M=new(function(){function e(){Object(b.a)(this,e),this.keys={MIDI_INPUT:"MIDI_INPUT"}}return Object(v.a)(e,[{key:"get",value:function(e){return localStorage.getItem(e)}},{key:"set",value:function(e,t){localStorage.setItem(e,t)}}]),e}()),T=n(53),P=new function e(){Object(b.a)(this,e),this.parameterValueChange$=void 0,this.lfoDestinationValueChange$=void 0,this.audioDestinationValueChange$=void 0,this.clearParameter$=void 0,this.sourceTypeChange$=void 0,this.loadPreset$=void 0,this.savePreset$=void 0,this.keyDown$=void 0,this.keyUp$=void 0,this.resetSource$=void 0,this.selectAudioBin$=void 0,this.lfoRateChange$=void 0,this.lfoTypeChange$=void 0,this.lifecycle={engine:{initialized$:new T.a(1)},settings:{midiInputChanged$:new T.a(1)}}},R=new(function(){function e(){Object(b.a)(this,e),this._midiInput=void 0}return Object(v.a)(e,[{key:"init",value:function(){this.midiInput=M.get(M.keys.MIDI_INPUT)||void 0}},{key:"midiInput",get:function(){return this._midiInput},set:function(e){this._midiInput=e,e&&M.set(M.keys.MIDI_INPUT,e),P.lifecycle.settings.midiInputChanged$.next(e)}}]),e}()),D=n(93);!function(e){e[e.Sine=0]="Sine",e[e.Square=1]="Square",e[e.Triangle=2]="Triangle",e[e.Saw=3]="Saw",e[e.ReverseSaw=4]="ReverseSaw",e[e.SampleAndHold=5]="SampleAndHold"}(C||(C={}));var E=function(){function e(){Object(b.a)(this,e),this.rate=1e3,this.type=C.Sine,this.snhTimestamp=void 0,this.snhValue=0}return Object(v.a)(e,[{key:"getValue",value:function(){switch(this.type){case C.Sine:return this.sine();case C.Square:return this.square();case C.Triangle:return this.triangle();case C.Saw:return this.saw();case C.ReverseSaw:return this.reverseSaw();case C.SampleAndHold:return this.sampleAndHold()}}},{key:"sampleAndHold",value:function(){var e=D();return(!this.snhTimestamp||e-this.snhTimestamp>this.rate)&&(this.snhTimestamp=e,this.snhValue=Math.random()),this.snhValue}},{key:"reverseSaw",value:function(){return D()%this.rate/this.rate}},{key:"saw",value:function(){return 1-D()%this.rate/this.rate}},{key:"triangle",value:function(){var e=D()%this.rate;return e<=this.rate/2?e/(this.rate/2):(this.rate-e)/(this.rate/2)}},{key:"square",value:function(){return Math.floor(D()/this.rate%2)}},{key:"sine",value:function(){return(Math.sin(2*D()*Math.PI/this.rate)+1)/2}}]),e}();function A(e,t,n){return function(r){r.time;var c=e.parameters[t],o=w.parameters[t].max-w.parameters[t].min;return n.forEach((function(n,a){var r=e.lfos[a][t]<0?1-n.getValue():n.getValue();c+=r*Math.abs(e.lfos[a][t])*o})),c+=e.audio[t]*o*a.fft[0],c=Math.min(Math.max(w.parameters[t].min,c),w.parameters[t].max)}}function V(e,t,n,a){switch(e.sourceType){case r.noise:return function(e,t,n){return noise(80,A(e,"mod1",n)).scale(1,1,t).contrast(A(e,"mod2",n))}(e,n,a);case r.voronoi:return function(e,t,n){return voronoi(100,A(e,"mod1",n),A(e,"mod2",n)).scale(1,1,t)}(e,n,a);case r.screen:return function(e,t,n,a){return t.initScreen(),src(t).saturate(A(e,"mod1",a)).invert(A(e,"mod3",a)).luma(A(e,"mod2",a),0)}(e,t,0,a);case r.shape:return function(e,t,n){return shape(A(e,"mod1",n),A(e,"mod2",n)).scale(1,1,t).rotate((function(t){return t.time*e.parameters.mod3%360*(Math.PI/180)}))}(e,n,a);default:return function(e,t){return osc(A(e,"mod1",t),A(e,"mod2",t),A(e,"mod3",t))}(e,a)}}function B(e,t,n,a){var r=e.sources[t],c=function(e){return[o1,o2,o3,o4][e]}(t),o=function(e){return[s0,s1,s2,s3][e]}(t),i=function(e){return[o2,o1,o4,o3][e]}(t);V(r,o,n,a).blend(c,A(r,"feedback",a)).rotate(A(r,"rotation",a),0).color(A(r,"colorR",a),A(r,"colorG",a),A(r,"colorB",a)).contrast(A(r,"contrast",a)).pixelate((function(e){return A(r,"pixelate",a)(e)*n}),A(r,"pixelate",a)).scale(A(r,"scale",a)).colorama(A(r,"colorama",a)).modulate(src(i),A(r,"modulate",a)).modulateRotate(src(i),A(r,"modulateRotate",a),A(r,"modulateRotate",a)).modulateScale(src(i),A(r,"modulateScale",a)).modulate(c,A(r,"selfModulate",a)).repeat(A(r,"repeatXY",a),A(r,"repeatXY",a)).brightness(A(r,"brightness",a)).out(c)}function F(e,t,n){B(e,0,t,n),B(e,1,t,n),B(e,2,t,n),B(e,3,t,n),solid(0,0,0,0).blend(src(o1),A(e.sources[0],"blend",n)).blend(src(o2),A(e.sources[1],"blend",n)).diff(solid(0,0,0,0).blend(src(o1),A(e.sources[0],"diff",n))).diff(solid(0,0,0,0).blend(src(o2),A(e.sources[1],"diff",n))).blend(src(o3),A(e.sources[2],"blend",n)).blend(src(o4),A(e.sources[3],"blend",n)).diff(solid(0,0,0,0).blend(src(o1),A(e.sources[2],"diff",n))).diff(solid(0,0,0,0).blend(src(o2),A(e.sources[3],"diff",n))).out(o0)}var N,Y=n(40),L=n(83),U={sources:[{parameters:{blend:{cc:1},diff:{cc:2},feedback:{cc:3},selfModulate:{cc:4},mod1:{cc:5},mod2:{cc:6},mod3:{cc:7},brightness:{cc:8},rotation:{cc:9},pixelate:{cc:10},scale:{cc:11},colorama:{cc:12},modulate:{cc:13},modulateRotate:{cc:14},modulateScale:{cc:15},repeatXY:{cc:16},colorR:{cc:17},colorG:{cc:18},colorB:{cc:19},contrast:{cc:20}},switchSource:{note:"F2"},reset:{note:"F#2"}},{parameters:{blend:{cc:21},diff:{cc:22},feedback:{cc:23},selfModulate:{cc:24},mod1:{cc:25},mod2:{cc:26},mod3:{cc:27},brightness:{cc:28},rotation:{cc:29},pixelate:{cc:30},scale:{cc:31},colorama:{cc:32},modulate:{cc:33},modulateRotate:{cc:34},modulateScale:{cc:35},repeatXY:{cc:36},colorR:{cc:37},colorG:{cc:38},colorB:{cc:39},contrast:{cc:40}},switchSource:{note:"A3"},reset:{note:"A#3"}},{parameters:{blend:{cc:41},diff:{cc:42},feedback:{cc:43},selfModulate:{cc:44},mod1:{cc:45},mod2:{cc:46},mod3:{cc:47},brightness:{cc:48},rotation:{cc:49},pixelate:{cc:50},scale:{cc:51},colorama:{cc:52},modulate:{cc:53},modulateRotate:{cc:54},modulateScale:{cc:55},repeatXY:{cc:56},colorR:{cc:57},colorG:{cc:58},colorB:{cc:59},contrast:{cc:60}},switchSource:{note:"D3"},reset:{note:"D#3"}},{parameters:{blend:{cc:61},diff:{cc:62},feedback:{cc:63},selfModulate:{cc:64},mod1:{cc:65},mod2:{cc:66},mod3:{cc:67},brightness:{cc:68},rotation:{cc:69},pixelate:{cc:70},scale:{cc:71},colorama:{cc:72},modulate:{cc:73},modulateRotate:{cc:74},modulateScale:{cc:75},repeatXY:{cc:76},colorR:{cc:77},colorG:{cc:78},colorB:{cc:79},contrast:{cc:80}},switchSource:{note:"C3"},reset:{note:"C#3"}}],keys:{shift:{note:"A7"},lfo1:{note:"B7"},lfo2:{note:"C8"},audio:{note:"A#7"}},presets:[{note:"C#5"},{note:"D5"},{note:"D#5"},{note:"E5"},{note:"F6"},{note:"F#6"},{note:"G6"},{note:"G#6"}],lfosControl:[{rate:{cc:81},type:{cc:82}},{rate:{cc:83},type:{cc:84}}]},_=n(76),G=n(20),X=n(10),H={min:100,max:3e4},z=function(e,t){return e.note==="".concat(t.note.name).concat(t.note.octave)&&(!e.channel||e.channel===t.channel)},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k();return g.every((function(n){return t[n]===e[n]}))};function J(e,t,n){var a=L.Input.create(e),r=Object.keys(U.sources[0].parameters).map((function(e){return e}));return a.then((function(e){P.resetSource$=_.a.apply(void 0,Object(Y.a)(U.sources.map((function(t,a){return e.noteOn(t.reset.note,t.reset.channel).pipe(Object(G.a)((function(){return!n.audio})),Object(X.a)((function(){return a})))})))),P.selectAudioBin$=_.a.apply(void 0,Object(Y.a)(U.sources.map((function(t,a){return e.noteOn(t.switchSource.note,t.switchSource.channel).pipe(Object(G.a)((function(){return n.audio})),Object(X.a)((function(){return a})))})))),P.sourceTypeChange$=_.a.apply(void 0,Object(Y.a)(U.sources.map((function(t,a){return e.noteOn(t.switchSource.note,t.switchSource.channel).pipe(Object(G.a)((function(){return q(n,k())})),Object(X.a)((function(){return a})))}))));var a=U.sources.map((function(t,n){return r.map((function(a){return e.cc(t.parameters[a].cc,t.parameters[a].channel).pipe(Object(X.a)((function(e){return{e:e,sourceIndex:n,p:a,m:t}})))}))})).flatMap((function(e){return e}));P.lfoDestinationValueChange$=_.a.apply(void 0,Object(Y.a)(a.map((function(e){return e.pipe(Object(G.a)((function(){return q(n,k(["lfo1"]))||q(n,k(["lfo2"]))})),Object(X.a)((function(e){var t=e.e,a=e.sourceIndex,r=e.p,c=n.lfo1?0:1;return{value:2*t.value/127-1,parameter:r,sourceIndex:a,lfoIndex:c}})))})))),P.parameterValueChange$=_.a.apply(void 0,Object(Y.a)(a.map((function(e){return e.pipe(Object(G.a)((function(){return q(n)})),Object(X.a)((function(e){var n=e.e,a=e.sourceIndex,r=e.p,c="mod1"===r||"mod2"===r||"mod3"===r?w.sourceMods[t(a)][r]:w.parameters[r],o=c.min;return{value:o+(c.max-o)/127*n.value,parameter:r,sourceIndex:a}})))})))),P.audioDestinationValueChange$=_.a.apply(void 0,Object(Y.a)(a.map((function(e){return e.pipe(Object(G.a)((function(){return n.audio&&!n.shift})),Object(X.a)((function(e){var t=e.e,n=e.sourceIndex,a=e.p;return{value:t.value/127,parameter:a,sourceIndex:n}})))})))),P.clearParameter$=_.a.apply(void 0,Object(Y.a)(a.map((function(e){return e.pipe(Object(G.a)((function(){return n.shift})),Object(X.a)((function(e){var t=e.sourceIndex;return{parameter:e.p,sourceIndex:t,destination:n.lfo1?"lfo1":n.lfo2?"lfo2":n.audio?"audio":null}})))}))));var c=128/(Object.keys(C).length/2);P.lfoTypeChange$=_.a.apply(void 0,Object(Y.a)(U.lfosControl.map((function(t,n){return e.cc(t.type.cc,t.type.channel).pipe(Object(X.a)((function(e){return{lfoIndex:n,type:Math.floor(e.value/c)}})))})))),P.lfoRateChange$=_.a.apply(void 0,Object(Y.a)(U.lfosControl.map((function(t,n){return e.cc(t.rate.cc,t.rate.channel).pipe(Object(X.a)((function(e){return{lfoIndex:n,rate:H.min+Math.floor((H.max-H.min)*e.value/127)}})))}))));var o=e.noteOn(),i=Object.keys(U.keys).map((function(e){return e}));P.keyDown$=o.pipe(Object(G.a)((function(e){return i.some((function(t){return z(U.keys[t],e)}))})),Object(X.a)((function(e){return i.find((function(t){return z(U.keys[t],e)}))}))),P.keyUp$=e.noteOff().pipe(Object(G.a)((function(e){return i.some((function(t){return z(U.keys[t],e)}))})),Object(X.a)((function(e){return i.find((function(t){return z(U.keys[t],e)}))}))),P.loadPreset$=o.pipe(Object(G.a)((function(e){return q(n,k())&&U.presets.some((function(t){return z(t,e)}))})),Object(X.a)((function(e){return U.presets.findIndex((function(t){return z(t,e)}))}))),P.savePreset$=o.pipe(Object(G.a)((function(e){return q(n,k(["shift"]))&&U.presets.some((function(t){return z(t,e)}))})),Object(X.a)((function(e){return U.presets.findIndex((function(t){return z(t,e)}))})))}))}var Z,W,K,Q,ee,te,ne,ae,re,ce,oe,ie,se,ue={rotation:0,brightness:0,pixelate:1500,scale:1,colorama:0,modulate:0,modulateRotate:0,modulateScale:0,repeatXY:1,blend:1,diff:0,feedback:0,selfModulate:0,colorR:1,colorG:1,colorB:1,contrast:1,mod1:0,mod2:0,mod3:0},le=(N={},Object(x.a)(N,r.osc,{mod1:40,mod2:0,mod3:0}),Object(x.a)(N,r.noise,{mod1:0,mod2:.8,mod3:0}),Object(x.a)(N,r.voronoi,{mod1:0,mod2:0,mod3:0}),Object(x.a)(N,r.screen,{mod1:1,mod2:0,mod3:.01}),Object(x.a)(N,r.shape,{mod1:3,mod2:.3,mod3:0}),N),de=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new I(Object(m.a)(Object(m.a)({},ue),le[e]),e);return n.parameters.blend=t?n.parameters.blend:0,n},me=new(function(){function e(){Object(b.a)(this,e),this.subscriptions=[],this.state=void 0,this.screenRatio=1,this.lfos=[new E,new E],this.ranAudio=!1,this.keyState={lfo1:!1,lfo2:!1,shift:!1,audio:!1},this.state={sources:[de(r.osc),de(r.osc,!1),de(r.osc,!1),de(r.osc,!1)],presets:[]},this.savePreset=this.savePreset.bind(this),this.loadPreset=this.loadPreset.bind(this)}return Object(v.a)(e,[{key:"init",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.lifecycle.settings.midiInputChanged$.subscribe((function(e){return t.setupMidi(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){e&&(this.screenRatio=e),F(this.state,this.screenRatio,this.lfos)}},{key:"randomize",value:function(){var e=this;$.forEach((function(t){if(!t.startsWith("modulate")&&Math.random()<.5){var n=t;e.state.sources[0].parameters[n]=Math.random()*(w.parameters[n].max-w.parameters[n].min+1)+w.parameters[n].min,e.state.sources[1].parameters[n]=Math.random()*(w.parameters[n].max-w.parameters[n].min+1)+w.parameters[n].min,e.state.sources[2].parameters[n]=Math.random()*(w.parameters[n].max-w.parameters[n].min+1)+w.parameters[n].min,e.state.sources[3].parameters[n]=Math.random()*(w.parameters[n].max-w.parameters[n].min+1)+w.parameters[n].min}}))}},{key:"savePreset",value:function(e){this.state.presets[e]=[this.cloneSourceState(this.state.sources[0]),this.cloneSourceState(this.state.sources[1]),this.cloneSourceState(this.state.sources[2]),this.cloneSourceState(this.state.sources[3])]}},{key:"loadPreset",value:function(e){var t=this;if(this.state.presets[e]&&this.state.presets[e].length===this.state.sources.length){var n=this.state.presets[e].some((function(e,n){return e.sourceType!==t.state.sources[n].sourceType}));this.state.sources.forEach((function(n,a){var r=t.state.presets[e][a];n.sourceType=r.sourceType,$.forEach((function(e){return n.parameters[e]=r.parameters[e]}))})),n&&F(this.state,this.screenRatio,this.lfos)}}},{key:"saveProject",value:function(){!function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(e),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",t+".json"),document.body.appendChild(a),a.click(),a.remove()}(JSON.stringify(this.state,null,2),O()().format("YYYY-MM-DD_hh-mm-ss"))}},{key:"loadProject",value:function(e){var t=this;(function(e){return new Promise((function(t,n){var a=new FileReader;a.addEventListener("load",(function(e){var n;t(null===(n=e.target)||void 0===n?void 0:n.result)})),a.readAsText(e)}))})(e).then((function(e){try{var n=JSON.parse(e);t.state=n,F(t.state,t.screenRatio,t.lfos)}catch(a){console.error("failed to parse file",a)}})).catch((function(e){console.error("failed to read file",e)}))}},{key:"setupMidi",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.subscriptions.forEach((function(e){return e.unsubscribe()})),t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,J(t,(function(e){return n.state.sources[e].sourceType}),this.keyState);case 5:this.subscriptions=[P.savePreset$.subscribe((function(e){return n.savePreset(e)})),P.loadPreset$.subscribe((function(e){return n.loadPreset(e)})),P.sourceTypeChange$.subscribe((function(e){var t=n.state.sources[e];t.sourceType=(Number(t.sourceType)+1)%y.length;var a=de(t.sourceType).parameters;$.filter((function(e){return!["blend","diff"].includes(e)})).forEach((function(e){return t.parameters[e]=a[e]})),B(n.state,e,n.screenRatio,n.lfos)})),P.keyDown$.subscribe((function(e){return n.keyState[e]=!0})),P.keyUp$.subscribe((function(e){return n.keyState[e]=!1})),P.parameterValueChange$.subscribe((function(e){return n.state.sources[e.sourceIndex].parameters[e.parameter]=e.value})),P.lfoDestinationValueChange$.subscribe((function(e){return n.state.sources[e.sourceIndex].lfos[e.lfoIndex][e.parameter]=e.value})),P.audioDestinationValueChange$.subscribe((function(e){return n.state.sources[e.sourceIndex].audio[e.parameter]=e.value})),P.resetSource$.subscribe((function(e){var t=n.state.sources[e],a=de(t.sourceType);$.forEach((function(e){t.parameters[e]=a.parameters[e],t.lfos.forEach((function(t){return t[e]=0}))}))})),P.clearParameter$.subscribe((function(e){var t=n.state.sources[e.sourceIndex];"lfo1"===e.destination?t.lfos[0][e.parameter]=0:"lfo2"===e.destination?t.lfos[1][e.parameter]=0:"audio"===e.destination?t.audio[e.parameter]=0:t.parameters[e.parameter]=de(t.sourceType).parameters[e.parameter]})),P.selectAudioBin$.subscribe((function(e){n.ranAudio||(n.ranAudio=!0,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}).then((function(e){var t=a.context.createMediaStreamSource(e);a.setSmooth(.5),a.meyda.setSource(t),a.setBins(10)})))})),P.lfoTypeChange$.subscribe((function(e){return n.lfos[e.lfoIndex].type=e.type})),P.lfoRateChange$.subscribe((function(e){return n.lfos[e.lfoIndex].rate=e.rate}))],P.lifecycle.engine.initialized$.next();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cloneSourceState",value:function(e){return new I(Object(m.a)({},e.parameters),e.sourceType)}}]),e}()),fe=n(7),pe=n(118),he=d.a.canvas(Z||(Z=Object(l.a)(["\n  height: 100%;\n  width: 100%;\n"]))),be=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){if(e.current&&!a){var t=window.innerWidth,n=window.innerHeight;e.current.width=t,e.current.height=n,new pe({canvas:e.current,numOutputs:5}).setResolution(t,n),me.run(t/n),r(!1)}}),[e,a]),Object(fe.jsx)(he,{id:"hydra-canvas",ref:e})},ve=d.a.div(W||(W=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  text-align: center;\n  bottom: 20vh;\n  font-size: 5vh;\n  text-shadow: 2px 2px 2px #111;\n  // -webkit-text-stroke-width: 2px;\n  // -webkit-text-stroke-color: #111;\n\n  .text-1 {\n    color: #dcf;\n  }\n  .text-2 {\n    color: #dfc;\n  }\n"]))),je=d.a.div(K||(K=Object(l.a)(["\n  position: absolute;\n  right: 20px;\n  top: 20px;\n"]))),Oe=d.a.div(Q||(Q=Object(l.a)(["\n  top: 66vh;\n  position: absolute;\n  margin: auto;\n  left: 0;\n  right: 0;\n"]))),xe=d.a.div(ee||(ee=Object(l.a)([""]))),ye=[],ge=function(e){var t=e.enabled,n=Object(c.useState)(""),a=Object(u.a)(n,2),o=a[0],i=a[1],s=Object(c.useState)(""),l=Object(u.a)(s,2),d=l[0],m=l[1],f=Object(c.useState)(),p=Object(u.a)(f,2),h=p[0],b=p[1],v=Object(c.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.startsWith("2 - ")?1:0,r=[i,m][a];(t||n)&&(r(e),ye[a]&&clearTimeout(ye[a]),ye[a]=setTimeout((function(){r("")}),1e3))}),[i,m,t]);return Object(c.useEffect)((function(){var e=P.lifecycle.engine.initialized$.subscribe((function(){b(Object(_.a)(P.sourceTypeChange$.pipe(Object(X.a)((function(e){return"".concat(e+1," - ").concat(r[me.state.sources[e].sourceType].toString())}))),P.parameterValueChange$.pipe(Object(X.a)((function(e){return"".concat(e.sourceIndex+1," - ").concat(e.parameter,": ").concat(e.value.toFixed(2))}))),P.lfoDestinationValueChange$.pipe(Object(X.a)((function(e){return"".concat(e.sourceIndex+1," - LFO ").concat(e.lfoIndex+1," - ").concat(e.parameter,": ").concat(Math.floor(100*e.value),"%")}))),P.audioDestinationValueChange$.pipe(Object(X.a)((function(e){return"".concat(e.sourceIndex+1," - Audio - ").concat(e.parameter,": ").concat(Math.floor(100*e.value),"%")}))),P.loadPreset$.pipe(Object(X.a)((function(e){return"Load preset ".concat(e+1)}))),P.savePreset$.pipe(Object(X.a)((function(e){return"Save preset ".concat(e+1)}))),P.clearParameter$.pipe(Object(X.a)((function(e){return"".concat(e.sourceIndex+1," ").concat(e.destination?"- ".concat(e.destination):"","- ").concat(e.parameter," cleared")}))),P.lfoTypeChange$.pipe(Object(X.a)((function(e){return"LFO ".concat(e.lfoIndex+1," - ").concat(C[e.type])}))),P.lfoRateChange$.pipe(Object(X.a)((function(e){return"LFO ".concat(e.lfoIndex+1," - ").concat(e.rate<1e3?"".concat(e.rate," ms"):"".concat((e.rate/1e3).toFixed(2)," seconds"))})))))}));return function(){return e.unsubscribe()}}),[]),Object(c.useEffect)((function(){var e=null===h||void 0===h?void 0:h.subscribe(v);return function(){return null===e||void 0===e?void 0:e.unsubscribe()}}),[v,h]),Object(c.useEffect)((function(){v("Scope ".concat(t?"on":"off"),!0)}),[t,v]),Object(fe.jsxs)(ve,{children:[Object(fe.jsxs)(Oe,{children:[Object(fe.jsx)(xe,{className:"text-1",children:o}),Object(fe.jsx)(xe,{className:"text-2",children:d})]}),Object(fe.jsx)(je,{})]})},ke=n(52),Se=n.n(ke),Ie=d.a.div(te||(te=Object(l.a)(["\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n"]))),we=d.a.div(ne||(ne=Object(l.a)(["\n  font-weight: bold;\n"]))),$e=d.a.div(ae||(ae=Object(l.a)(["\n  height: 2px;\n  width: auto;\n  flex: 1;\n  background-color: black;\n  margin-left: 1rem;\n"]))),Ce=function(e){return Object(fe.jsxs)(Ie,{children:[Object(fe.jsx)(we,{children:e.children}),Object(fe.jsx)($e,{})]})},Me=d.a.div(re||(re=Object(l.a)(["\n  position: absolute;\n  inset: 0;\n  background-color: #eeeeee88;\n  padding: 20%;\n"]))),Te=d.a.div(ce||(ce=Object(l.a)(["\n  line-height: 2;\n"]))),Pe=d.a.div(oe||(oe=Object(l.a)([""]))),Re=function(){var e=o.a.useState(M.get(M.keys.MIDI_INPUT)),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(fe.jsx)(Me,{children:Object(fe.jsxs)(Pe,{children:[Object(fe.jsx)(Ce,{children:"MIDI Input"}),Se.a.inputs.map((function(e){return Object(fe.jsxs)(Te,{children:[Object(fe.jsx)("input",{type:"radio",id:e.name,name:"midi-input",value:"HTML",checked:e.name===n,onChange:function(){R.midiInput=e.name,a(e.name)}}),Object(fe.jsx)("label",{htmlFor:e.name,children:e.name})]},e.name)}))]})})};function De(){return(De=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.init)();case 2:return e.next=4,R.init();case 4:return e.next=6,me.init();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=d.a.div(ie||(ie=Object(l.a)(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n"])));var Ae=d.a.input(se||(se=Object(l.a)(["\n  display: none;\n"])));var Ve=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!M.get(M.keys.MIDI_INPUT)),o=Object(u.a)(r,2),i=o[0],s=o[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),m=d[0],f=d[1];return Object(c.useEffect)((function(){window.addEventListener("keypress",(function(e){var t=e.key.toLowerCase();if("s"===t)me.saveProject();else if("l"===t){var n;null===(n=document.getElementById("file-selector"))||void 0===n||n.click()}else"r"===t?me.randomize():"i"===t?a((function(e){return!e})):"`"===t&&s((function(e){return!e}))}))}),[a]),Object(c.useEffect)((function(){(function(){return De.apply(this,arguments)})().then((function(){return f(!0)}))}),[f]),m?Object(fe.jsxs)(Ee,{children:[Object(fe.jsx)(be,{}),Object(fe.jsx)(ge,{enabled:n}),i&&Object(fe.jsx)(Re,{}),Object(fe.jsx)(Ae,{type:"file",id:"file-selector",accept:".json",onChange:function(e){return function(e){var t;e.target.files&&(null===(t=e.target.files)||void 0===t?void 0:t.length)>0&&me.loadProject(e.target.files[0])}(e)}})]}):null},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};s.a.render(Object(fe.jsx)(o.a.StrictMode,{children:Object(fe.jsx)(Ve,{})}),document.getElementById("root")),Be()}},[[160,1,2]]]);
//# sourceMappingURL=main.2f960c1d.chunk.js.map